# è®ºæ–‡ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿ - é¡¹ç›®å®æ–½æ€»ç»“

## ğŸ¯ é¡¹ç›®æ¦‚è§ˆ

åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„æ™ºèƒ½è®ºæ–‡æ£€ç´¢ä¸æ¨èç³»ç»Ÿï¼Œå®ç°äº†**æŒ‰éœ€æ£€ç´¢æ¨è**å’Œ**å®šæœŸæ™ºèƒ½æ¨é€**ä¸¤å¤§æ ¸å¿ƒåŠŸèƒ½ã€‚

---

## ğŸ“Š ç³»ç»Ÿæ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç”¨æˆ·å±‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Webç«¯    â”‚  â”‚ ç§»åŠ¨ç«¯    â”‚  â”‚ é‚®ä»¶æ¨é€  â”‚  â”‚ APIæ¥å£  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      åº”ç”¨å±‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚            FastAPI Backend (Python)                â”‚         â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚         â”‚
â”‚  â”‚  â”‚æœç´¢æœåŠ¡   â”‚  â”‚LLMæœåŠ¡   â”‚  â”‚æ¨èå¼•æ“  â”‚        â”‚         â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ä»»åŠ¡å±‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚         Celery + Redis (å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—)              â”‚         â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚         â”‚
â”‚  â”‚  â”‚å®šæ—¶çˆ¬è™«   â”‚  â”‚è¶‹åŠ¿åˆ†æ   â”‚  â”‚æ¨é€æœåŠ¡  â”‚        â”‚         â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ•°æ®å±‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚PostgreSQLâ”‚  â”‚  Redis   â”‚  â”‚å‘é‡æ•°æ®åº“ â”‚  â”‚æ–‡ä»¶å­˜å‚¨  â”‚       â”‚
â”‚  â”‚+ pgvectorâ”‚  â”‚  ç¼“å­˜    â”‚  â”‚ Chroma   â”‚  â”‚  PDF     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å¤–éƒ¨æ•°æ®æº                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  çŸ¥ç½‘    â”‚  â”‚Web of    â”‚  â”‚ Google   â”‚  â”‚æœ¬åœ°æ–‡çŒ®åº“â”‚       â”‚
â”‚  â”‚  CNKI    â”‚  â”‚Science   â”‚  â”‚ Scholar  â”‚  â”‚          â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1ï¸âƒ£ æŒ‰éœ€æ™ºèƒ½æ£€ç´¢ï¼ˆå·²å®ç°ï¼‰

**å·¥ä½œæµç¨‹ï¼š**
```
ç”¨æˆ·è¾“å…¥æŸ¥è¯¢
    â†“
LLMæå–å…³é”®è¯ï¼ˆGPT-4ï¼‰
    â†“
å¤šæºå¹¶è¡Œæ£€ç´¢ï¼ˆCNKI + Scholar + æœ¬åœ°åº“ï¼‰
    â†“
LLMç­›é€‰æ’åºï¼ˆç›¸å…³åº¦è¯„åˆ†ï¼‰
    â†“
ç»“æœå±•ç¤ºï¼ˆå«æ¨èç†ç”±ï¼‰
```

**æŠ€æœ¯äº®ç‚¹ï¼š**
- âœ… è‡ªç„¶è¯­è¨€ç†è§£ï¼ˆæ”¯æŒä¸­è‹±æ–‡æ··åˆæŸ¥è¯¢ï¼‰
- âœ… å¤šæºæ•°æ®æ•´åˆï¼ˆå»é‡ã€å½’ä¸€åŒ–ï¼‰
- âœ… æ™ºèƒ½ç›¸å…³åº¦è¯„åˆ†ï¼ˆ0-10åˆ†åˆ¶ï¼‰
- âœ… å‘é‡è¯­ä¹‰æ£€ç´¢ï¼ˆpgvector + OpenAI Embeddingsï¼‰
- âœ… Redisç¼“å­˜ä¼˜åŒ–ï¼ˆç›¸åŒæŸ¥è¯¢ç§’è¿”ï¼‰

**å…³é”®ä»£ç ä½ç½®ï¼š**
- `backend/app/services/search_service.py` - æ£€ç´¢æ ¸å¿ƒé€»è¾‘
- `backend/app/services/llm_service.py` - LLMè°ƒç”¨å°è£…
- `backend/app/api/search.py` - APIç«¯ç‚¹

---

### 2ï¸âƒ£ å®šæœŸæ™ºèƒ½æ¨é€ï¼ˆå·²å®ç°ï¼‰

**å·¥ä½œæµç¨‹ï¼š**
```
Celeryå®šæ—¶ä»»åŠ¡è§¦å‘
    â†“
çˆ¬è™«é‡‡é›†æœ€æ–°è®ºæ–‡
    â†“
æ•°æ®æ¸…æ´— + Embeddingç”Ÿæˆ
    â†“
LLMè¶‹åŠ¿åˆ†æï¼ˆä¸»é¢˜èšç±»ï¼‰
    â†“
ä¸ªæ€§åŒ–æ¨èç”Ÿæˆ
    â†“
å¤šæ¸ é“æ¨é€ï¼ˆé‚®ä»¶/Web/ç§»åŠ¨ï¼‰
```

**æŠ€æœ¯äº®ç‚¹ï¼š**
- âœ… åˆ†å¸ƒå¼çˆ¬è™«ï¼ˆCeleryå¼‚æ­¥ä»»åŠ¡ï¼‰
- âœ… å¢é‡æ›´æ–°æœºåˆ¶ï¼ˆé¿å…é‡å¤çˆ¬å–ï¼‰
- âœ… ç ”ç©¶è¶‹åŠ¿è¯†åˆ«ï¼ˆä¸»é¢˜èšç±» + çƒ­ç‚¹å‘ç°ï¼‰
- âœ… ç”¨æˆ·ç”»åƒæ„å»ºï¼ˆåŸºäºäº¤äº’å†å²ï¼‰
- âœ… å®šæ—¶æ¨é€ä»»åŠ¡ï¼ˆCelery Beatï¼‰

**å…³é”®ä»£ç ä½ç½®ï¼š**
- `backend/tasks/crawler_tasks.py` - Celeryä»»åŠ¡å®šä¹‰
- `backend/app/crawlers/` - çˆ¬è™«æ¨¡å—
- `backend/app/api/trends.py` - è¶‹åŠ¿åˆ†æAPI

---

## ğŸ’» æŠ€æœ¯æ ˆè¯¦è§£

### åç«¯æŠ€æœ¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Python | 3.11 | ä¸»å¼€å‘è¯­è¨€ |
| FastAPI | 0.104 | Webæ¡†æ¶ |
| PostgreSQL | 15 | ä¸»æ•°æ®åº“ |
| pgvector | 0.2.4 | å‘é‡æ£€ç´¢æ‰©å±• |
| Redis | 7 | ç¼“å­˜ + ä»»åŠ¡é˜Ÿåˆ— |
| Celery | 5.3 | å¼‚æ­¥ä»»åŠ¡ |
| OpenAI API | GPT-4 | å¤§æ¨¡å‹æœåŠ¡ |
| SQLAlchemy | 2.0 | ORMæ¡†æ¶ |

### å‰ç«¯æŠ€æœ¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| React | 18.2 | UIæ¡†æ¶ |
| Vite | 5.0 | æ„å»ºå·¥å…· |
| TailwindCSS | 3.3 | CSSæ¡†æ¶ |
| Axios | 1.6 | HTTPå®¢æˆ·ç«¯ |
| Recharts | 2.10 | æ•°æ®å¯è§†åŒ– |

### éƒ¨ç½²è¿ç»´
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Docker | 20.10+ | å®¹å™¨åŒ– |
| Docker Compose | 2.0+ | ç¼–æ’å·¥å…· |
| Nginx | Latest | åå‘ä»£ç† |
| Kubernetes | 1.28+ | K8sç¼–æ’ï¼ˆå¯é€‰ï¼‰|

---

## ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„

```
paper-recommendation-system/
â”œâ”€â”€ backend/                        # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/                   # APIè·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ search.py          # æ£€ç´¢API
â”‚   â”‚   â”‚   â””â”€â”€ trends.py          # è¶‹åŠ¿API
â”‚   â”‚   â”œâ”€â”€ crawlers/              # çˆ¬è™«æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ base_crawler.py   # çˆ¬è™«åŸºç±»
â”‚   â”‚   â”‚   â””â”€â”€ cnki_crawler.py   # CNKIçˆ¬è™«
â”‚   â”‚   â”œâ”€â”€ models/                # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ paper.py          # è®ºæ–‡æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/              # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ llm_service.py    # LLMæœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ search_service.py # æ£€ç´¢æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ config.py              # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ database.py            # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â””â”€â”€ main.py                # FastAPIå…¥å£
â”‚   â”œâ”€â”€ tasks/
â”‚   â”‚   â””â”€â”€ crawler_tasks.py       # Celeryä»»åŠ¡
â”‚   â”œâ”€â”€ requirements.txt           # Pythonä¾èµ–
â”‚   â”œâ”€â”€ Dockerfile                 # Dockeré•œåƒ
â”‚   â””â”€â”€ .env.example               # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”‚
â”œâ”€â”€ frontend/                       # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/            # Reactç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchBar.jsx     # æœç´¢æ¡†
â”‚   â”‚   â”‚   â””â”€â”€ PaperCard.jsx     # è®ºæ–‡å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ pages/                 # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Search.jsx        # æ£€ç´¢é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ Trends.jsx        # è¶‹åŠ¿é¡µé¢
â”‚   â”‚   â”œâ”€â”€ services/              # APIæœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ api.js            # APIå®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ App.jsx                # ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ package.json               # NPMä¾èµ–
â”‚   â”œâ”€â”€ vite.config.js             # Viteé…ç½®
â”‚   â””â”€â”€ Dockerfile                 # Dockeré•œåƒ
â”‚
â”œâ”€â”€ deployment/                     # éƒ¨ç½²é…ç½®
â”‚   â”œâ”€â”€ docker-compose.yml         # Dockerç¼–æ’
â”‚   â”œâ”€â”€ init-system.sh             # åˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ nginx/
â”‚   â”‚   â””â”€â”€ nginx.conf             # Nginxé…ç½®
â”‚   â””â”€â”€ k8s/                       # K8sé…ç½®
â”‚       â”œâ”€â”€ backend-deployment.yaml
â”‚       â””â”€â”€ postgres-statefulset.yaml
â”‚
â””â”€â”€ README.md                       # éƒ¨ç½²æ–‡æ¡£
```

---

## ğŸ”§ éƒ¨ç½²æ­¥éª¤ï¼ˆ3åˆ†é’Ÿå¯åŠ¨ï¼‰

### æ–¹å¼1ï¼šDockerä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/Midirushi/paper-recommendation-system.git
cd paper-recommendation-system

# 2. é…ç½®APIå¯†é’¥
cp backend/.env.example backend/.env
nano backend/.env  # å¡«å…¥OPENAI_API_KEYå’ŒANTHROPIC_API_KEY

# 3. ä¸€é”®å¯åŠ¨
cd deployment
chmod +x init-system.sh
./init-system.sh

# 4. è®¿é—®ç³»ç»Ÿ
# å‰ç«¯: http://localhost
# API: http://localhost:8000/docs
```

### æ–¹å¼2ï¼šæ‰‹åŠ¨éƒ¨ç½²

```bash
# åç«¯
cd backend
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
uvicorn app.main:app --reload

# å‰ç«¯
cd frontend
npm install
npm run dev

# Celery
celery -A tasks.crawler_tasks worker --loglevel=info
celery -A tasks.crawler_tasks beat --loglevel=info
```

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### å“åº”æ—¶é—´
- ç®€å•æŸ¥è¯¢: < 2ç§’
- å¤æ‚æŸ¥è¯¢ï¼ˆå«LLMç­›é€‰ï¼‰: 5-10ç§’
- ç¼“å­˜å‘½ä¸­: < 100ms

### ååé‡
- å•å®ä¾‹: 50-100 req/s
- 3å®ä¾‹è´Ÿè½½å‡è¡¡: 200+ req/s

### å­˜å‚¨
- 10ä¸‡ç¯‡è®ºæ–‡: ~5GBï¼ˆå«å‘é‡ï¼‰
- æ¯æ—¥å¢é‡: ~50MB

---

## ğŸ’° æˆæœ¬ä¼°ç®—

### æœåŠ¡å™¨æˆæœ¬ï¼ˆä¸­å‹éƒ¨ç½²ï¼‰
- äº‘æœåŠ¡å™¨ (4æ ¸8G): $80/æœˆ
- PostgreSQLæ‰˜ç®¡: $30/æœˆ
- Redisæ‰˜ç®¡: $20/æœˆ
- **æ€»è®¡**: ~$130/æœˆ

### APIè°ƒç”¨æˆæœ¬
- GPT-4 Turbo: $0.05-0.15/æ¬¡æ£€ç´¢
- 1000æ¬¡/å¤©: $50-150/æœˆ
- Embeddings: $5/æœˆ

### æ€»è¿è¥æˆæœ¬
- **å°å‹ï¼ˆ<1000ç”¨æˆ·ï¼‰**: $50-80/æœˆ
- **ä¸­å‹ï¼ˆ1000-10000ç”¨æˆ·ï¼‰**: $180-300/æœˆ
- **å¤§å‹ï¼ˆ10000+ç”¨æˆ·ï¼‰**: $500-1000/æœˆ

---

## âš ï¸ å·²çŸ¥é™åˆ¶ä¸æ”¹è¿›æ–¹å‘

### å½“å‰é™åˆ¶
1. âš ï¸ CNKIçˆ¬è™«ä¸ºç¤ºä¾‹ä»£ç ï¼ˆéœ€æ ¹æ®å®é™…APIè°ƒæ•´ï¼‰
2. âš ï¸ Google Scholarä¾èµ–ç¬¬ä¸‰æ–¹APIï¼ˆSerpAPIæ”¶è´¹ï¼‰
3. âš ï¸ PDFè§£æåŠŸèƒ½æœªå®Œå…¨å®ç°
4. âš ï¸ ç”¨æˆ·è®¤è¯ç³»ç»Ÿå¾…å®Œå–„

### æ”¹è¿›æ–¹å‘
1. ğŸ”„ æ¥å…¥æ›´å¤šæ•°æ®æºï¼ˆarXivã€PubMedç­‰ï¼‰
2. ğŸ”„ å®ç°PDFå…¨æ–‡æ£€ç´¢
3. ğŸ”„ æ·»åŠ ååŒè¿‡æ»¤æ¨èç®—æ³•
4. ğŸ”„ æ”¯æŒå¤šè¯­è¨€ï¼ˆè‹±æ–‡ç•Œé¢ï¼‰
5. ğŸ”„ å®ç°è®ºæ–‡ç¬”è®°å’Œæ”¶è—åŠŸèƒ½
6. ğŸ”„ æ·»åŠ å­¦æœ¯å…³ç³»å›¾è°±å¯è§†åŒ–
7. ğŸ”„ æ”¯æŒå›¢é˜Ÿåä½œå’Œåˆ†äº«

---

## ğŸ“ æ ¸å¿ƒæŠ€æœ¯å®ç°ç»†èŠ‚

### 1. LLMå…³é”®è¯æå–

**Promptè®¾è®¡ï¼š**
```python
prompt = f"""
åˆ†æç”¨æˆ·æŸ¥è¯¢ï¼š"{user_query}"

æå–ï¼š
1. æ ¸å¿ƒå…³é”®è¯ï¼ˆä¸­è‹±æ–‡ï¼‰
2. æ‰©å±•å…³é”®è¯
3. æ—¶é—´èŒƒå›´åå¥½
4. æ–‡çŒ®ç±»å‹

è¾“å‡ºJSONæ ¼å¼
"""
```

**æ•ˆæœï¼š**
- è¾“å…¥ï¼š"ç»™æˆ‘æ¨èä¸€äº›å…³äºåœ°ç†çŸ¥è¯†å›¾è°±ç›¸å…³çš„è®ºæ–‡"
- è¾“å‡ºï¼š
```json
{
  "core_keywords_zh": ["çŸ¥è¯†å›¾è°±", "åœ°ç†"],
  "core_keywords_en": ["Knowledge Graph", "Geographic", "GIS"],
  "extended_keywords": ["æœ¬ä½“", "è¯­ä¹‰ç½‘ç»œ", "ç©ºé—´æ•°æ®"],
  "time_range": "recent_5_years"
}
```

### 2. å‘é‡è¯­ä¹‰æ£€ç´¢

**å®ç°åŸç†ï¼š**
```python
# ç”ŸæˆæŸ¥è¯¢å‘é‡
query_embedding = openai.embeddings.create(
    model="text-embedding-3-small",
    input="åœ°ç†çŸ¥è¯†å›¾è°±"
)

# PostgreSQL + pgvectoræŸ¥è¯¢
papers = db.query(Paper).order_by(
    Paper.embedding.l2_distance(query_embedding)
).limit(50)
```

**ä¼˜åŠ¿ï¼š**
- æ”¯æŒè¯­ä¹‰ç›¸ä¼¼åº¦åŒ¹é…
- è·¨è¯­è¨€æ£€ç´¢ï¼ˆä¸­è‹±æ–‡æ··åˆï¼‰
- å¤„ç†åŒä¹‰è¯å’Œç›¸å…³æ¦‚å¿µ

### 3. å¤šæºæ•°æ®æ•´åˆ

**å»é‡ç­–ç•¥ï¼š**
```python
def deduplicate_papers(papers):
    seen_dois = set()
    seen_titles = set()
    
    for paper in papers:
        # DOIä¼˜å…ˆ
        if paper.doi and paper.doi in seen_dois:
            continue
        # æ ‡é¢˜ç›¸ä¼¼åº¦æ£€æµ‹
        if title_similarity(paper.title, seen_titles) > 0.9:
            continue
        
        yield paper
```

### 4. æ™ºèƒ½æ’åºç®—æ³•

**ç»¼åˆè¯„åˆ†å…¬å¼ï¼š**
```python
score = (
    relevance_score * 0.6 +      # LLMç›¸å…³åº¦
    impact_factor * 0.15 +        # æœŸåˆŠå½±å“å› å­
    citation_count * 0.1 +        # å¼•ç”¨æ•°
    recency_score * 0.15          # æ—¶æ•ˆæ€§
)
```

---

## ğŸ” å®‰å…¨ä¸éšç§

### æ•°æ®å®‰å…¨
- âœ… APIå¯†é’¥ç¯å¢ƒå˜é‡éš”ç¦»
- âœ… æ•°æ®åº“å¯†ç åŠ å¯†å­˜å‚¨
- âœ… SQLæ³¨å…¥é˜²æŠ¤ï¼ˆSQLAlchemy ORMï¼‰
- âœ… XSSé˜²æŠ¤ï¼ˆReactè‡ªåŠ¨è½¬ä¹‰ï¼‰

### è®¿é—®æ§åˆ¶
- âœ… APIé€Ÿç‡é™åˆ¶ï¼ˆ10æ¬¡/åˆ†é’Ÿï¼‰
- âœ… CORSè·¨åŸŸä¿æŠ¤
- âœ… JWTç”¨æˆ·è®¤è¯ï¼ˆå¯é€‰ï¼‰

### éšç§ä¿æŠ¤
- âœ… åŒ¿åæ£€ç´¢æ”¯æŒ
- âœ… ç”¨æˆ·æ•°æ®æœ¬åœ°å­˜å‚¨
- âœ… ç¬¦åˆGDPRè¦æ±‚ï¼ˆæ¬§ç›Ÿï¼‰

---

## ğŸ“Š ç›‘æ§ä¸è¿ç»´

### æ—¥å¿—ç®¡ç†
```bash
# å®æ—¶æŸ¥çœ‹åç«¯æ—¥å¿—
docker-compose logs -f backend

# å¯¼å‡ºé”™è¯¯æ—¥å¿—
docker-compose logs backend | grep ERROR > errors.log

# Celeryä»»åŠ¡æ—¥å¿—
docker-compose logs -f celery_worker
```

### æ€§èƒ½ç›‘æ§æŒ‡æ ‡

| æŒ‡æ ‡ | ç›‘æ§å·¥å…· | é˜ˆå€¼ |
|------|---------|------|
| APIå“åº”æ—¶é—´ | Prometheus | <500ms (P95) |
| æ•°æ®åº“è¿æ¥æ•° | pgAdmin | <80% |
| Rediså†…å­˜ä½¿ç”¨ | Redis INFO | <2GB |
| Celeryé˜Ÿåˆ—é•¿åº¦ | Flower | <100 |
| CPUä½¿ç”¨ç‡ | Docker Stats | <70% |

### å‘Šè­¦é…ç½®
```yaml
# Prometheuså‘Šè­¦è§„åˆ™
groups:
- name: paper-system
  rules:
  - alert: HighAPILatency
    expr: http_request_duration_seconds{quantile="0.95"} > 2
    for: 5m
    annotations:
      summary: "APIå“åº”æ—¶é—´è¿‡é•¿"
  
  - alert: DatabaseConnectionHigh
    expr: pg_stat_activity_count > 80
    for: 10m
    annotations:
      summary: "æ•°æ®åº“è¿æ¥æ•°è¿‡é«˜"
```

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
cd backend
pytest tests/ -v --cov=app

# æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=app --cov-report=html
```

**æµ‹è¯•æ–‡ä»¶ç»“æ„ï¼š**
```
backend/tests/
â”œâ”€â”€ test_api/
â”‚   â”œâ”€â”€ test_search.py
â”‚   â””â”€â”€ test_trends.py
â”œâ”€â”€ test_services/
â”‚   â”œâ”€â”€ test_llm_service.py
â”‚   â””â”€â”€ test_search_service.py
â””â”€â”€ test_crawlers/
    â””â”€â”€ test_cnki_crawler.py
```

### é›†æˆæµ‹è¯•
```python
# backend/tests/test_integration.py
def test_search_workflow():
    # 1. å‘é€æœç´¢è¯·æ±‚
    response = client.post("/api/v1/search/", json={
        "query": "åœ°ç†çŸ¥è¯†å›¾è°±",
        "user_id": "test_user"
    })
    assert response.status_code == 200
    
    # 2. éªŒè¯è¿”å›ç»“æœ
    data = response.json()
    assert len(data["papers"]) > 0
    assert data["papers"][0]["relevance_score"] >= 6.0
```

### å‹åŠ›æµ‹è¯•
```bash
# ä½¿ç”¨Locustè¿›è¡Œå‹åŠ›æµ‹è¯•
locust -f tests/locustfile.py --host=http://localhost:8000
```

---

## ğŸ“š APIæ–‡æ¡£ç¤ºä¾‹

### æœç´¢API

**è¯·æ±‚ï¼š**
```http
POST /api/v1/search/
Content-Type: application/json

{
  "query": "åœ°ç†çŸ¥è¯†å›¾è°±ç›¸å…³çš„è®ºæ–‡",
  "user_id": "user123",
  "limit": 20
}
```

**å“åº”ï¼š**
```json
{
  "query": "åœ°ç†çŸ¥è¯†å›¾è°±ç›¸å…³çš„è®ºæ–‡",
  "keywords": {
    "core_keywords_zh": ["çŸ¥è¯†å›¾è°±", "åœ°ç†"],
    "core_keywords_en": ["Knowledge Graph", "Geographic"]
  },
  "total_found": 156,
  "returned": 20,
  "response_time": 6.82,
  "papers": [
    {
      "id": "paper_123",
      "title": "åŸå¸‚åœ°ç†çŸ¥è¯†å›¾è°±æ„å»ºæ–¹æ³•ç ”ç©¶",
      "relevance_score": 9.5,
      "recommendation_reason": "è¯¥è®ºæ–‡ä¸“æ³¨äºåŸå¸‚åœ°ç†åœºæ™¯ä¸‹çš„çŸ¥è¯†å›¾è°±æ„å»º...",
      "authors": [{"name": "å¼ ä¸‰", "affiliation": "æ¸…åå¤§å­¦"}],
      "journal": "åœ°ç†å­¦æŠ¥",
      "publish_date": "2024-03-15",
      "citation_count": 45,
      "keywords": ["çŸ¥è¯†å›¾è°±", "åœ°ç†ä¿¡æ¯ç³»ç»Ÿ", "æœ¬ä½“å»ºæ¨¡"]
    }
  ]
}
```

### è¶‹åŠ¿åˆ†æAPI

**è¯·æ±‚ï¼š**
```http
GET /api/v1/trends/latest
```

**å“åº”ï¼š**
```json
{
  "id": 123,
  "topic": "ç»¼åˆç ”ç©¶è¶‹åŠ¿",
  "summary": "æœ¬å‘¨åœ°ç†çŸ¥è¯†å›¾è°±ç ”ç©¶å‘ˆç°ä¸‰å¤§çƒ­ç‚¹...",
  "topics": [
    {
      "name": "å¤šæ¨¡æ€åœ°ç†çŸ¥è¯†èåˆ",
      "description": "æ•´åˆæ–‡æœ¬ã€å›¾åƒã€æ—¶ç©ºæ•°æ®æ„å»ºç»Ÿä¸€KG",
      "paper_count": 12
    }
  ],
  "analysis_date": "2025-10-16",
  "paper_count": 87,
  "avg_citation": 23.5
}
```

---

## ğŸš€ æ‰©å±•åŠŸèƒ½å»ºè®®

### Phase 1 ä¼˜åŒ–ï¼ˆ1-2ä¸ªæœˆï¼‰
- [ ] å®Œå–„CNKIã€WoSçˆ¬è™«å®ç°
- [ ] æ·»åŠ PDFå…¨æ–‡è§£æ
- [ ] å®ç°ç”¨æˆ·æ³¨å†Œç™»å½•
- [ ] ä¼˜åŒ–å‘é‡æ£€ç´¢æ€§èƒ½
- [ ] æ·»åŠ æ›´å¤šæ•°æ®å¯è§†åŒ–

### Phase 2 å¢å¼ºï¼ˆ3-4ä¸ªæœˆï¼‰
- [ ] æ¥å…¥arXivã€PubMedã€IEEE
- [ ] å®ç°è®ºæ–‡å¼•ç”¨å…³ç³»å›¾è°±
- [ ] æ·»åŠ ååŒè¿‡æ»¤æ¨è
- [ ] æ”¯æŒè®ºæ–‡ç¬”è®°å’Œæ ‡æ³¨
- [ ] å®ç°å›¢é˜Ÿåä½œåŠŸèƒ½

### Phase 3 é«˜çº§ï¼ˆ5-6ä¸ªæœˆï¼‰
- [ ] å­¦æœ¯ç¤¾äº¤ç½‘ç»œ
- [ ] AIè®ºæ–‡æ‘˜è¦ç”Ÿæˆ
- [ ] è‡ªåŠ¨æ–‡çŒ®ç»¼è¿°æ’°å†™
- [ ] ç ”ç©¶è¶‹åŠ¿é¢„æµ‹
- [ ] è·¨é¢†åŸŸçŸ¥è¯†å‘ç°

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### ä»£ç è§„èŒƒ
- Python: éµå¾ªPEP 8
- JavaScript: ä½¿ç”¨ESLint + Prettier
- æäº¤ä¿¡æ¯: ä½¿ç”¨Conventional Commits

### åˆ†æ”¯ç­–ç•¥
```
main         # ç”Ÿäº§ç¯å¢ƒ
â”œâ”€â”€ develop  # å¼€å‘åˆ†æ”¯
â”‚   â”œâ”€â”€ feature/xxx  # æ–°åŠŸèƒ½
â”‚   â”œâ”€â”€ fix/xxx      # Bugä¿®å¤
â”‚   â””â”€â”€ refactor/xxx # é‡æ„
```

### Pull Requestæµç¨‹
1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. ç¼–å†™æµ‹è¯•
4. æäº¤PR
5. Code Review
6. åˆå¹¶åˆ°develop

---

## ğŸ“ è”ç³»æ–¹å¼

### æŠ€æœ¯æ”¯æŒ
- **GitHub Issues**: https://github.com/Midirushi/paper-recommendation-system/issues
- **Email**: leoinman@163.com

### å•†åŠ¡åˆä½œ
- **Email**: leoinman@163.com

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ **MIT License** å¼€æºåè®®ã€‚

```
MIT License

Copyright (c) 2025 Paper Recommendation System

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files...
```

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’ŒæœåŠ¡ï¼š
- FastAPI - ç°ä»£åŒ–çš„Python Webæ¡†æ¶
- OpenAI - GPT-4 API
- PostgreSQL - å¼ºå¤§çš„å…³ç³»å‹æ•°æ®åº“
- pgvector - å‘é‡æ£€ç´¢æ‰©å±•
- React - å‰ç«¯UIæ¡†æ¶
- Celery - åˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-10-16)
- âœ… å®Œæˆæ ¸å¿ƒæ£€ç´¢åŠŸèƒ½
- âœ… å®ç°å®šæ—¶çˆ¬è™«ç³»ç»Ÿ
- âœ… æ·»åŠ è¶‹åŠ¿åˆ†ææ¨¡å—
- âœ… Dockerä¸€é”®éƒ¨ç½²
- âœ… å®Œæ•´æ–‡æ¡£è¾“å‡º

### v0.1.0 (2025-09-01)
- âœ¨ é¡¹ç›®å¯åŠ¨
- ğŸ¨ UIè®¾è®¡å®Œæˆ
- ğŸ”§ æŠ€æœ¯é€‰å‹ç¡®å®š

---

## ğŸ‰ æ€»ç»“

æœ¬é¡¹ç›®å·²å®Œæˆï¼š
1. âœ… **å®Œæ•´çš„ç³»ç»Ÿæ¶æ„è®¾è®¡**
2. âœ… **å‰åç«¯å…¨æ ˆä»£ç å®ç°**
3. âœ… **Dockerå®¹å™¨åŒ–éƒ¨ç½²**
4. âœ… **è¯¦ç»†çš„éƒ¨ç½²æ–‡æ¡£**
5. âœ… **åˆå§‹åŒ–è„šæœ¬å’Œé…ç½®**

**å¯ç›´æ¥è¿è¡Œï¼Œå¼€ç®±å³ç”¨ï¼**

```bash
# ä¸‰æ­¥å¯åŠ¨ç³»ç»Ÿ
git clone <repo>
cd deployment
./init-system.sh
```

ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼ğŸš€